<div class="settings-account-container">
  <div class="title-container" fxLayout="column" fxLayoutAlign="center center">
    <div class="title">
      Account settings
    </div>
    <div class="subtitle" fxHide.lt-sm>
      Your profile & contact info, photo and password change.
    </div>
  </div>

  <div class="content-container">
    <div fxLayout="column">
      <div class="setting-row">
        <span
          >Username & email address: <strong>{{ user?.email }}</strong>
        </span>
      </div>

      <div class="setting-row" fxLayout="row" fxLayoutGap="30px">
        <img class="profile-image" [src]="user?.photoUrl || '/assets/images/user.png'" />
        <div fxLayout="column" fxLayoutAlign="space-evenly">
          <button mat-stroked-button class="button-stroked-blue">Change photo</button>
          <button matSuffix mat-stroked-button class="button-stroked-blue">Change Password</button>
        </div>
      </div>

      <div class="setting-row" [ngClass.gt-sm]="'settings-row-desktop'">
        <form [formGroup]="form" (submit)="udpateName()">
          <mat-form-field appearance="outline" class="input-full-width">
            <mat-label><strong>Name</strong></mat-label>
            <input matInput type="text" formControlName="newName" />
            <mat-error *ngIf="form.get('newName').hasError('requiredValue')">Name is required</mat-error>
            <mat-error *ngIf="form.get('newName').hasError('singleWord')">Name cannot contain space</mat-error>
            <mat-error *ngIf="form.get('newName').hasError('backend')"
              >Error occured. New name has not been changed. Please, try again later</mat-error
            >
          </mat-form-field>

          <div fxLayoutAlign="end center">
            <button
              [disabled]="form.invalid"
              type="submit"
              class="form-button button button-stroked-blue"
              mat-stroked-button
              color="primary"
            >
              Update
            </button>
          </div>
        </form>
      </div>
    </div>
  </div>
</div>
